import socket
import subprocess
import sys
from datetime import datetime

subprocess.call('clear', shell=True)

rmip = raw_input("=> Enter the remote host IP to scan: ")
r1 = int(raw_input("=> Enter the start port number: "))
r2 = int(raw_input("=> Enter the last port number: "))

print "=> Scanner is working on ", rmip

t1 = datetime.now()

try:
    for port in range(r1, r2):
        sock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        socket.setdefaulttimeout(1)
        result = sock.connect_ex((rmip, port))
        if result == 0:
            print "\t Port Open -->\t", port
        sock.close()
except KeyboardInterrupt:
    print "\t You stop this "
    sys.exit()
except socket.gaierror:
    print "\t Hostname could not be resolved"
    sys.exit()
except socket.error:
    print "\t could not connect to server"
    sys.exit()

t2 = datetime.now()

total = t2 - t1

print "=> Scanning complete in ", total
